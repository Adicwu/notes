<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		// 使用js实现ts的重载功能
		function addMethod(object, name, fn) {
			const old = object[name]
			object[name] = function() {
				if (fn.length === arguments.length) {
					return fn.apply(this, arguments)
				} else if (typeof old === 'function') {
					return old.apply(this, arguments)
				}
			}
		}

		addMethod(window, 'fn', (name) => console.log(`我是${name}`))
		addMethod(window, 'fn', (name, age) => console.log(`我是${name},今年${age}岁`))
		addMethod(window, 'fn', (name, age, sport) => console.log(`我是${name},今年${age}岁,喜欢运动是${sport}`))

		/*
		 * 实现效果
		 * https://juejin.cn/post/7031525301414805518
		 */
		window.fn('林三心') // 我是林三心
		window.fn('林三心', 18) // 我是林三心，今年18岁
		window.fn('林三心', 18, '打篮球') // 我是林三心，今年18岁，喜欢运动是打篮球

		/**
		 * 利用闭包的特性，在创建重载函数时，获取上一次创建的重载函数，并保存判断使用，让重载函数们形成一个链式的结构。注意，以上步骤是执行在创建时期的
		 */
	</script>
</html>
